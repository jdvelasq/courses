{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Uso de magic cells en Jupyter\n",
    "======================\n",
    "\n",
    "* *60 min* | Última modificación: Junio 22, 2019."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Jupyter tienen varias utilidades que extienden las capacidades de los notebooks más allá de las características del kernel que se este usando. Las `magics` permiten modiicar el comportamiento de las celdas individuales. A continuación se describen las principales. Haga clic [aquí](http://ipython.readthedocs.io/en/stable/interactive/magics.html) para acceder a la documentación oficial.\n",
    "\n",
    "Una lista de los `magics` disponibles se encuentra en: https://github.com/ipython/ipython/wiki/Extensions-Index"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "`%%bash` ejecuta el código de la celda usando bash."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "hola mundo\n"
     ]
    }
   ],
   "source": [
    "%%bash \n",
    "echo 'hola mundo'"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "`%%html` ejecuta el código como html."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<p id=\"demo\">Texto para cambiar.</p>"
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "%%html\n",
    "<p id=\"demo\">Texto para cambiar.</p>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "`%%javascript`, `%%js`  Ejecuta el codigo de la celda usando javascript."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": [
       "// cambia la salida de la celda anterior\n",
       "document.getElementById(\"demo\").innerHTML = \"---> Nuevo texto <---\""
      ],
      "text/plain": [
       "<IPython.core.display.Javascript object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "%%javascript\n",
    "// cambia la salida de la celda anterior\n",
    "document.getElementById(\"demo\").innerHTML = \"---> Nuevo texto <---\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "`%%markdown`  Ejecuta el código de la celda como markdown."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/markdown": [
       "# Titulo\n",
       "\n",
       "## Subtitulo\n",
       "\n",
       "Texto texto texto\n",
       "* viñeta 1\n",
       "* viñeta 2"
      ],
      "text/plain": [
       "<IPython.core.display.Markdown object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "%%markdown\n",
    "# Titulo\n",
    "\n",
    "## Subtitulo\n",
    "\n",
    "Texto texto texto\n",
    "* viñeta 1\n",
    "* viñeta 2"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "`%%perl` Ejecuta Perl."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "2\n"
     ]
    }
   ],
   "source": [
    "%%perl\n",
    "use feature ':5.10';\n",
    "my $a=1;\n",
    "$a++;\n",
    "say $a;"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "`%%python`, `%%python2`, `%%python3` Ejecuta la celda usando Python."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Hola mundo\n"
     ]
    }
   ],
   "source": [
    "%%python\n",
    "print('Hola mundo')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "`%%ruby` Ejecuta la celda usando Ruby."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "23 [Hi there.  How are you?]\n"
     ]
    }
   ],
   "source": [
    "%%ruby\n",
    "s = \"Hi there.  How are you?\"\n",
    "print s.length, \" [\" + s + \"]\\n\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "`%%script` permite indicar con que lenguaje se ejecutará la celda; similar al #! de unix"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Writing demo.R\n"
     ]
    }
   ],
   "source": [
    "%%writefile demo.R\n",
    "x <- runinf(10)\n",
    "cat(x)\n",
    "cat('promedio = ', mean(x))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "R version 3.4.4 (2018-03-15) -- \"Someone to Lean On\"\n",
      "Copyright (C) 2018 The R Foundation for Statistical Computing\n",
      "Platform: x86_64-apple-darwin15.6.0 (64-bit)\n",
      "\n",
      "R is free software and comes with ABSOLUTELY NO WARRANTY.\n",
      "You are welcome to redistribute it under certain conditions.\n",
      "Type 'license()' or 'licence()' for distribution details.\n",
      "\n",
      "  Natural language support but running in an English locale\n",
      "\n",
      "R is a collaborative project with many contributors.\n",
      "Type 'contributors()' for more information and\n",
      "'citation()' on how to cite R or R packages in publications.\n",
      "\n",
      "Type 'demo()' for some demos, 'help()' for on-line help, or\n",
      "'help.start()' for an HTML browser interface to help.\n",
      "Type 'q()' to quit R.\n",
      "\n",
      "> x <- runif(10)\n",
      "> cat(x, '\\n')\n",
      "0.8771232 0.5605815 0.6132753 0.4368442 0.3817565 0.7508056 0.8370036 0.7940572 0.7022739 0.1651189 \n",
      "> cat('promedio = ', mean(x), \"\\n\")\n",
      "promedio =  0.611884 \n",
      "> \n"
     ]
    }
   ],
   "source": [
    "%%script R --no-save\n",
    "x <- runif(10)\n",
    "cat(x, '\\n')\n",
    "cat('promedio = ', mean(x), \"\\n\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "hola\n"
     ]
    }
   ],
   "source": [
    "%%script python\n",
    "print(\"hola\")"
   ]
  }
 ],
 "metadata": {
  "kernel_info": {
   "name": "python3"
  },
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.8"
  },
  "nteract": {
   "version": "0.7.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
