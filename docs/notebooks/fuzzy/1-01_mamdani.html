

<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Sistema de inferencia difusa de Mamdani &mdash; documentación de --- Cursos --- - </title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/translations.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "math|output_area"}}</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="The tipping problem" href="1-02_the_tippping_problem.html" />
    <link rel="prev" title="Visualización del ajuste de boosted trees en regresion" href="../sklearn/ensembles/1-02-boosted-trees-understanding.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> --- Cursos ---
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Configuración</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup.html">Instalación de Vagrant y Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Cursos de Pregrado</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../fundamentos-de-analitica/index.html">Fundamentos de Analítica</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html">Redes Neuronales Artificiales y Algoritmos Bioinspirados</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-01">Sesión 01</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-02">Sesión 02</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-03">Sesión 03</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-04">Sesión 04</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-05">Sesión 05</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-06">Sesión 06</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-07">Sesión 07</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-08">Sesión 08</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-09">Sesión 09</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-10">Sesión 10</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-11">Sesión 11</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-12">Sesión 12</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-13">Sesión 13</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-14">Sesión 14</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-15">Sesión 15</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html#sesion-16">Sesión 16</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Cursos de Posgrado</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analitica-de-grandes-datos/index.html">Analítica de Grandes Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analitica-predictiva/index.html">Analítica Predictiva</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ciencia-de-los-datos/index.html">Ciencia de los Datos Aplicada</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../productos-de-datos/index.html">Productos de Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analitica_avanzada/index.html">Analítica Avanzada</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">--- Cursos ---</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../redes_neuronales_y_algoritmos_bioinspirados/index.html">Redes Neuronales Artificiales y Algoritmos Bioinspirados</a> &raquo;</li>
        
      <li>Sistema de inferencia difusa de Mamdani</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/notebooks/fuzzy/1-01_mamdani.ipynb.txt" rel="nofollow"> Ver código fuente de la página</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Sistema-de-inferencia-difusa-de-Mamdani">
<h1>Sistema de inferencia difusa de Mamdani<a class="headerlink" href="#Sistema-de-inferencia-difusa-de-Mamdani" title="Enlazar permanentemente con este título">¶</a></h1>
<ul class="simple">
<li><p>30 min | Última modificación: Junio 11, 2021 | [YouTube]</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>pip install --quiet --upgrade fuzzy_toolbox
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-yellow-fg">WARNING: Running pip as root will break packages and permissions. You should install packages reliably by using venv: https://pip.pypa.io/warnings/venv</span>
</pre></div></div>
</div>
<div class="section" id="Función-de-pertenencia-y-conjuntos-difusos">
<h2>Función de pertenencia y conjuntos difusos<a class="headerlink" href="#Función-de-pertenencia-y-conjuntos-difusos" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><p><strong>Noción de dicotomia</strong>. El conjunto <span class="math notranslate nohighlight">\(A\)</span> definido sobre un universo de discurso <span class="math notranslate nohighlight">\(X\)</span> tiene una función característica o de pertenencia definida como:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}\mu_A(x) =
\begin{cases}
1, &amp; \text{if } x \in A \\
0, &amp; \text{if } x \notin A \\
\end{cases}\end{split}\]</div>
<ul class="simple">
<li><p><strong>Función de pertenencia</strong>: <span class="math notranslate nohighlight">\(\mu_A(x) \to \{0,1\}\)</span> indica si el elemento <span class="math notranslate nohighlight">\(x\)</span> pertenece al conjunto <span class="math notranslate nohighlight">\(A\)</span>; es la modelación numérica del concepto.</p></li>
</ul>
<ul class="simple">
<li><p><strong>Conjunto difuso</strong>: Se obtiene al relajar la condición anterior, tal que <span class="math notranslate nohighlight">\(\mu_A(x) \to [0, 1]\)</span>, indicando condición parcial de pertenencia. El <span class="math notranslate nohighlight">\(0\)</span> indica absoluta certeza de que no pertenece, y el <span class="math notranslate nohighlight">\(1\)</span> absoluta certeza de que si pertenece.</p></li>
</ul>
</div>
<div class="section" id="Problema-abordado">
<h2>Problema abordado<a class="headerlink" href="#Problema-abordado" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En este tutorial se aborda el problema conocido como «Bank Decision Problem», que consiste en decidir si se otorga o no un crédito a una persona a partir de unas variables que la caracterizan.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>IF score IS High
   AND ratio IS Goodr
   AND credit IS Goodc
THEN
   decision IS Approve

IF score IS Low
   AND ratio IS Badr
   AND credit IS Badc
THEN
   decision IS Reject
</pre></div>
</div>
</div>
<div class="section" id="Variable-difusa">
<h2>Variable difusa<a class="headerlink" href="#Variable-difusa" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Es una variable que esta definida sobre un universo <span class="math notranslate nohighlight">\(X\)</span> y tiene varios conjuntos borrosos que representan los conceptos asociados</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">fuzzy_toolbox.mamdani</span> <span class="kn">import</span> <span class="n">FuzzyVariable</span>

<span class="n">score</span> <span class="o">=</span> <span class="n">FuzzyVariable</span><span class="p">(</span>
    <span class="c1">#</span>
    <span class="c1"># Nombre de la variable</span>
    <span class="c1">#</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;score&quot;</span><span class="p">,</span>
    <span class="c1">#</span>
    <span class="c1"># Universo de valores sobre los que estan definidos los</span>
    <span class="c1"># conjuntos borrosos</span>
    <span class="c1">#</span>
    <span class="n">universe</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">201</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
    <span class="c1">#</span>
    <span class="c1"># Se define cada conjunto borroso y los correspondientes</span>
    <span class="c1"># valores de la función de pertenencia para cada punto</span>
    <span class="c1"># del universo en que esta definida la variable</span>
    <span class="c1">#</span>
    <span class="n">sets</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;High&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
        <span class="s2">&quot;Low&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># Gráfica de la variable.</span>
<span class="c1">#</span>
<span class="n">score</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_11_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_11_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Variable ratio</span>
<span class="c1">#</span>
<span class="n">ratio</span> <span class="o">=</span> <span class="n">FuzzyVariable</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ratio&quot;</span><span class="p">,</span>
    <span class="n">universe</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.40</span><span class="p">,</span> <span class="mf">0.41</span><span class="p">,</span> <span class="mf">0.42</span><span class="p">,</span> <span class="mf">0.43</span><span class="p">,</span> <span class="mf">0.44</span><span class="p">,</span> <span class="mf">0.45</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
    <span class="n">sets</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;Goodr&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="s2">&quot;Badr&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="n">ratio</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_12_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_12_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Variable credit</span>
<span class="c1">#</span>
<span class="n">credit</span> <span class="o">=</span> <span class="n">FuzzyVariable</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;credit&quot;</span><span class="p">,</span>
    <span class="n">universe</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)),</span>
    <span class="n">sets</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;Goodc&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="s2">&quot;Badc&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="n">credit</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_13_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_13_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Variable decision</span>
<span class="c1">#</span>
<span class="n">decision</span> <span class="o">=</span> <span class="n">FuzzyVariable</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;decision&quot;</span><span class="p">,</span>
    <span class="n">universe</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)),</span>
    <span class="n">sets</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;Approve&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="s2">&quot;Reject&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="n">decision</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_14_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_14_0.png" />
</div>
</div>
</div>
<div class="section" id="Cómputo-del-valor-de-pertenencia">
<h2>Cómputo del valor de pertenencia<a class="headerlink" href="#Cómputo-del-valor-de-pertenencia" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Dado un valor <span class="math notranslate nohighlight">\(x \in X\)</span> es posible calcular el valor de la función de pertenencia. Por ejemplo, para la variable score:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Pertenencia de score=168 al conjunto Low</span>
<span class="c1">#</span>
<span class="n">current_score</span> <span class="o">=</span> <span class="mi">168</span>
<span class="n">membership</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">compute_membership</span><span class="p">(</span><span class="mi">168</span><span class="p">,</span> <span class="s2">&quot;Low&quot;</span><span class="p">)</span>

<span class="n">score</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">current_score</span><span class="p">,</span>
    <span class="n">ymin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="n">ymax</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">membership</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_17_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_17_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.32
</pre></div></div>
</div>
</div>
<div class="section" id="Reglas-difusas">
<h2>Reglas difusas<a class="headerlink" href="#Reglas-difusas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Son reglas que usan variables difusas y conjuntos borrosos para expresar conceptos y reglas heurísticas. Por ejemplo:</p>
<ul class="simple">
<li><p><strong>IF</strong> score <span class="math notranslate nohighlight">\(\in\)</span> «High» <strong>AND</strong> ratio <span class="math notranslate nohighlight">\(\in\)</span> «Goodr» <strong>AND</strong> credit <span class="math notranslate nohighlight">\(\in\)</span> «Goodc», <strong>THEN</strong> decision <span class="math notranslate nohighlight">\(\in\)</span> Approve</p></li>
<li><p><strong>IF</strong> score <span class="math notranslate nohighlight">\(\in\)</span> «Low» <strong>AND</strong> ratio <span class="math notranslate nohighlight">\(\in\)</span> «Badr» <strong>AND</strong> credit <span class="math notranslate nohighlight">\(\in\)</span> «Badc», <strong>THEN</strong> decision <span class="math notranslate nohighlight">\(\in\)</span> Reject</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Regla 1</span>
<span class="c1"># -----------------------------------</span>
<span class="c1"># IF score IS High</span>
<span class="c1">#    AND ratio IS Goodr</span>
<span class="c1">#    AND credit IS Goodc</span>
<span class="c1"># THEN</span>
<span class="c1">#    decision IS Approve</span>
<span class="c1">#</span>
<span class="kn">from</span> <span class="nn">fuzzy_toolbox.mamdani</span> <span class="kn">import</span> <span class="n">FuzzyRule</span>

<span class="c1">#</span>
<span class="c1"># Las reglas están conformadas por tuplas que indican cada</span>
<span class="c1"># una de las premisas en el antecedente y el consecuente.</span>
<span class="c1">#</span>
<span class="n">rule_1</span> <span class="o">=</span> <span class="n">FuzzyRule</span><span class="p">(</span>
    <span class="n">antecedents</span><span class="o">=</span><span class="p">[</span>
        <span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="s2">&quot;High&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="s2">&quot;Goodr&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">credit</span><span class="p">,</span> <span class="s2">&quot;Goodc&quot;</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="n">consequent</span><span class="o">=</span><span class="p">(</span><span class="n">decision</span><span class="p">,</span> <span class="s2">&quot;Approve&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">rule_1</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
IF  score IS High
    AND ratio IS Goodr
    AND credit IS Goodc
THEN
    decision IS Approve
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Regla 2</span>
<span class="c1"># -----------------------------------</span>
<span class="c1"># IF score IS Low</span>
<span class="c1">#    AND ratio IS Badr</span>
<span class="c1">#    AND credit IS Badc</span>
<span class="c1"># THEN</span>
<span class="c1">#    decision IS Reject</span>
<span class="c1">#</span>
<span class="n">rule_2</span> <span class="o">=</span> <span class="n">FuzzyRule</span><span class="p">(</span>
    <span class="n">antecedents</span><span class="o">=</span><span class="p">[</span>
        <span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="s2">&quot;Low&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="s2">&quot;Badr&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">credit</span><span class="p">,</span> <span class="s2">&quot;Badc&quot;</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="n">consequent</span><span class="o">=</span><span class="p">(</span><span class="n">decision</span><span class="p">,</span> <span class="s2">&quot;Reject&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">rule_2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
IF  score IS Low
    AND ratio IS Badr
    AND credit IS Badc
THEN
    decision IS Reject
</pre></div></div>
</div>
</div>
<div class="section" id="Implicación">
<h2>Implicación<a class="headerlink" href="#Implicación" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El cálculo de la implicación <span class="math notranslate nohighlight">\(A \to B\)</span> consiste en la función de pertenencia del conjunto borroso de salida.</p>
<p>Los pasos son los siguientes:</p>
<ul class="simple">
<li><p>Se calcula el valor de la función de pertenencia para cada entrada a la regla.</p></li>
<li><p>Se agregan las entradas.</p></li>
<li><p>Se aplica el operador de implicación.</p></li>
</ul>
</div>
<div class="section" id="Cómputo-del-valor-de-la-función-de-pertenencia-para-cada-entrada">
<h2>Cómputo del valor de la función de pertenencia para cada entrada<a class="headerlink" href="#Cómputo-del-valor-de-la-función-de-pertenencia-para-cada-entrada" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Por ejemplo, si</span>
<span class="c1">#</span>
<span class="c1">#   * score = 185,</span>
<span class="c1">#   * ratio = 0.22, y</span>
<span class="c1">#   * credit = 2.5</span>
<span class="c1">#</span>
<span class="c1"># Las pertenencias para la primera regla son:</span>
<span class="c1">#</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">compute_memberships</span><span class="p">(</span>
    <span class="n">score</span><span class="o">=</span><span class="mi">185</span><span class="p">,</span>
    <span class="n">ratio</span><span class="o">=</span><span class="mf">0.22</span><span class="p">,</span>
    <span class="n">credit</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">memberships</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.7, 1.0, 0.85]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Mientras que para la segunda regla son:</span>
<span class="c1">#</span>
<span class="n">rule_2</span><span class="o">.</span><span class="n">compute_memberships</span><span class="p">(</span>
    <span class="n">score</span><span class="o">=</span><span class="mi">185</span><span class="p">,</span>
    <span class="n">ratio</span><span class="o">=</span><span class="mf">0.22</span><span class="p">,</span>
    <span class="n">credit</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">rule_2</span><span class="o">.</span><span class="n">memberships</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.0, 0.0, 0.0]
</pre></div></div>
</div>
</div>
<div class="section" id="Agregación-de-las-entradas">
<h2>Agregación de las entradas<a class="headerlink" href="#Agregación-de-las-entradas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para el operador AND en los antecedentes se suele usar una de las siguientes funciones:</p>
<ul class="simple">
<li><p>min.</p></li>
<li><p>prod.</p></li>
</ul>
<p>Para el operador OR en los antecedentes:</p>
<ul class="simple">
<li><p>max.</p></li>
<li><p>probor.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Para la regla 1, los valores de las funciones de pertenencia son:</span>
<span class="c1">#</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">memberships</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0.7, 1.0, 0.85]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Usando el operador min para el AND</span>
<span class="c1">#</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">combine_inputs</span><span class="p">(</span><span class="n">and_operator</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">,</span> <span class="n">or_operator</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">combined_input</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.7
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Usando el operador prod para el AND</span>
<span class="c1">#</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">combine_inputs</span><span class="p">(</span><span class="n">and_operator</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">,</span> <span class="n">or_operator</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">combined_input</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.595
</pre></div></div>
</div>
</div>
<div class="section" id="Cómputo-de-la-implicación">
<h2>Cómputo de la implicación<a class="headerlink" href="#Cómputo-de-la-implicación" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Operadores de implicación:</p>
<ul class="simple">
<li><p>min.</p></li>
<li><p>prod.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">decision</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_35_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_35_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># En el operador min, el conjunto difuso resultante es</span>
<span class="c1"># calculado como el mínimo entre el valor de la función de</span>
<span class="c1"># pertenencia del conjunto de salida y el valor obtenido al</span>
<span class="c1"># agregar las entradas</span>
<span class="c1">#</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">compute_implication</span><span class="p">(</span><span class="n">implication_operator</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">)</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1">#</span>
<span class="c1"># El efecto visual se debe a que los puntos de la función</span>
<span class="c1"># de pertenencia son interpolados para los puntos en que</span>
<span class="c1"># está definido el universo de la variable.</span>
<span class="c1">#</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decision</span><span class="o">.</span><span class="n">universe</span><span class="p">,</span> <span class="n">decision</span><span class="p">[</span><span class="s1">&#39;Approve&#39;</span><span class="p">],</span> <span class="s1">&#39;--k&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_36_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_36_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rule_1</span><span class="o">.</span><span class="n">compute_implication</span><span class="p">(</span><span class="n">implication_operator</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">)</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1">#</span>
<span class="c1"># Note que esta es la versión escalada de la función de</span>
<span class="c1"># pertenencia original</span>
<span class="c1">#</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decision</span><span class="o">.</span><span class="n">universe</span><span class="p">,</span> <span class="n">decision</span><span class="p">[</span><span class="s1">&#39;Approve&#39;</span><span class="p">],</span> <span class="s1">&#39;--k&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_37_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_37_0.png" />
</div>
</div>
</div>
<div class="section" id="Regla-composicional-de-inferencia-max-min">
<h2>Regla composicional de inferencia max-min<a class="headerlink" href="#Regla-composicional-de-inferencia-max-min" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En esta regla composicional de inferenica se usa el operador min para el cómputo de la agregación de antecedentes y la implicación.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rule_1</span><span class="o">.</span><span class="n">combine_inputs</span><span class="p">(</span><span class="n">and_operator</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">,</span> <span class="n">or_operator</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">compute_implication</span><span class="p">(</span><span class="n">implication_operator</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">)</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_40_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_40_0.png" />
</div>
</div>
</div>
<div class="section" id="Regla-composicional-de-inferencia-max-prod">
<h2>Regla composicional de inferencia max-prod<a class="headerlink" href="#Regla-composicional-de-inferencia-max-prod" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En este caso se usa el operador prod para el cómputo de la agregación de los antecedentes y la implicación.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rule_1</span><span class="o">.</span><span class="n">combine_inputs</span><span class="p">(</span><span class="n">and_operator</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">,</span> <span class="n">or_operator</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">compute_implication</span><span class="p">(</span><span class="n">implication_operator</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">)</span>
<span class="n">rule_1</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_43_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_43_0.png" />
</div>
</div>
</div>
<div class="section" id="Sistema-de-inferencia-difusa">
<h2>Sistema de inferencia difusa<a class="headerlink" href="#Sistema-de-inferencia-difusa" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Es un sistema de reglas difusas que permite realizar inferencia y obtener resultados. Esta compuesto por los siguientes elementos:</p>
<ul class="simple">
<li><p>Entrada.</p></li>
<li><p>Fuzzifier.</p></li>
<li><p>Fuzzy knowledge base.</p></li>
<li><p>Inference engine.</p></li>
<li><p>Defuzzifier.</p></li>
</ul>
</div>
<div class="section" id="Especificación-de-un-modelo-de-Mamdani">
<h2>Especificación de un modelo de Mamdani<a class="headerlink" href="#Especificación-de-un-modelo-de-Mamdani" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En un sistema difuso de Mamdani, se deben especificar:</p>
<ul class="simple">
<li><p>Las variables difusas.</p></li>
<li><p>El sistema de reglas difusas.</p></li>
<li><p>El operador de agregación de los antecedentes (and_operator).</p></li>
<li><p>El operador para el cómputo de la implicación.</p></li>
<li><p>El operador para el cómputo de la agregación de los conjuntos de salida de las reglas.</p></li>
<li><p>El método para defuzzificar (convertir a un valor crisp representativo) el conjunto borroso.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">fuzzy_toolbox.mamdani</span> <span class="kn">import</span> <span class="n">Mamdani</span>

<span class="c1">#</span>
<span class="c1"># Especificación del sistema difuso que usa la regla</span>
<span class="c1"># composicional de inferencia max-min</span>
<span class="c1">#</span>
<span class="n">mamdani</span> <span class="o">=</span> <span class="n">Mamdani</span><span class="p">(</span>
    <span class="n">rules</span><span class="o">=</span><span class="p">[</span>
        <span class="n">rule_1</span><span class="p">,</span>
        <span class="n">rule_2</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">and_operator</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">,</span>
    <span class="n">or_operator</span><span class="o">=</span><span class="s2">&quot;max&quot;</span><span class="p">,</span>
    <span class="n">implication_operator</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">,</span>
    <span class="n">aggregation_operator</span><span class="o">=</span><span class="s2">&quot;max&quot;</span><span class="p">,</span>
    <span class="n">defuzzification_operator</span><span class="o">=</span><span class="s2">&quot;cog&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="n">mamdani</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">score</span><span class="o">=</span><span class="mi">185</span><span class="p">,</span>
    <span class="n">ratio</span><span class="o">=</span><span class="mf">0.22</span><span class="p">,</span>
    <span class="n">credit</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_48_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_48_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Especificación del sistema difuso que usa la regla</span>
<span class="c1"># composicional de inferencia max-prod</span>
<span class="c1">#</span>
<span class="n">mamdani</span> <span class="o">=</span> <span class="n">Mamdani</span><span class="p">(</span>
    <span class="n">rules</span><span class="o">=</span><span class="p">[</span>
        <span class="n">rule_1</span><span class="p">,</span>
        <span class="n">rule_2</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">and_operator</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">,</span>
    <span class="n">or_operator</span><span class="o">=</span><span class="s2">&quot;max&quot;</span><span class="p">,</span>
    <span class="n">implication_operator</span><span class="o">=</span><span class="s2">&quot;prod&quot;</span><span class="p">,</span>
    <span class="n">aggregation_operator</span><span class="o">=</span><span class="s2">&quot;max&quot;</span><span class="p">,</span>
    <span class="n">defuzzification_operator</span><span class="o">=</span><span class="s2">&quot;cog&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="n">mamdani</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">score</span><span class="o">=</span><span class="mi">185</span><span class="p">,</span>
    <span class="n">ratio</span><span class="o">=</span><span class="mf">0.22</span><span class="p">,</span>
    <span class="n">credit</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_fuzzy_1-01_mamdani_49_0.png" src="../../_images/notebooks_fuzzy_1-01_mamdani_49_0.png" />
</div>
</div>
</div>
<div class="section" id="Agregación-de-los-conjuntos-borrosos-de-salida.">
<h2>Agregación de los conjuntos borrosos de salida.<a class="headerlink" href="#Agregación-de-los-conjuntos-borrosos-de-salida." title="Enlazar permanentemente con este título">¶</a></h2>
<p>Consiste en cálcular la agregación de los conjuntos borrosos inferidos en el cálculo de las reglas. Se puede agregar con los siguientes operadores:</p>
<ul class="simple">
<li><p>max.</p></li>
<li><p>sum.</p></li>
<li><p>probor.</p></li>
</ul>
<p>En los ejemplos anteriores, se usa la función max.</p>
</div>
<div class="section" id="Concretación-(defuzzification)">
<h2>Concretación (defuzzification)<a class="headerlink" href="#Concretación-(defuzzification)" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Consiste en reducir el conjunto borroso a un número crsip que lo represente. Los métodos disponibles son:</p>
<ul class="simple">
<li><p>cog: centro de gravedad</p></li>
<li><p>bisection: bisección de las áreas</p></li>
<li><p>mom: media de los máximos.</p></li>
<li><p>lom: máximo de los máximos.</p></li>
<li><p>som: mínimo de los máximos.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Derechos de autor 2019, Juan D. Velasquez.

    </p>
  </div>
    
    
    
    Construido con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>